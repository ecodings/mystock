<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï£ºÏãù Îß§Îß§ ÏùºÏßÄ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
            background: #f5f7fa;
            color: #2c3e50;
            font-size: 14px;
        }
        
        .header {
            background: white;
            padding: 15px 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .header h1 {
            font-size: 24px;
            color: #2c3e50;
        }
        
        .refresh-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }
        
        .refresh-btn:hover {
            background: #2980b9;
        }
        
        .container {
            display: grid;
            grid-template-columns: 40% 20% 40%;
            gap: 20px;
            padding: 0 20px 20px;
            height: calc(100vh - 100px);
        }
        
        .panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            overflow-y: auto;
        }
        
        /* Ï¢åÏ∏° Ìå®ÎÑê */
        .left-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        #accountsContainer {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .account-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
        }
        
        .account-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #495057;
        }
        
        .stock-item {
            background: white;
            border-radius: 8px;
            padding: 14px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .stock-item:hover {
            border-color: #3498db;
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.2);
        }
        
        .stock-item.active {
            border-color: #3498db;
            background: #e3f2fd;
        }
        
        .stock-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .stock-info {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 6px;
            font-size: 15px;
            color: #6c757d;
            margin-bottom: 6px;
        }
        
        .stock-info-label {
            font-size: 12px;
            color: #95a5a6;
            margin-top: 4px;
        }
        
        .profit-positive {
            color: #e74c3c;
            font-weight: 600;
        }
        
        .profit-negative {
            color: #3498db;
            font-weight: 600;
        }
        
        .trade-history {
            flex: 1;
        }
        
        .trade-history-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #495057;
            line-height: 1.4;
        }
        
        .trade-history-profit {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 12px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            text-align: center;
        }
        
        #tradeHistoryContainer {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }
        
        .trade-item {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 10px;
            font-size: 13px;
            line-height: 1.5;
        }
        
        .trade-date {
            color: #6c757d;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        /* Ï§ëÏïô Ìå®ÎÑê */
        .center-panel {
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .filter-btn {
            background: #ecf0f1;
            color: #2c3e50;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.2s;
        }
        
        .filter-btn.active {
            background: #3498db;
            color: white;
        }
        
        .date-selector {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .date-selector select {
            padding: 8px 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .current-stock-name {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .calendar {
            background: white;
            border-radius: 8px;
            margin-bottom: 15px;
            overflow-x: hidden;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }
        
        .calendar-day-header {
            text-align: center;
            padding: 10px 4px;
            font-size: 13px;
            font-weight: bold;
            color: #6c757d;
        }
        
        .calendar-day {
            aspect-ratio: 1.4;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 8px 4px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: flex-start;
            font-size: 11px;
        }
        
        .calendar-day:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .calendar-day.active {
            background: #f0f4f8;
            color: #2c3e50;
            border-color: #3498db;
        }
        
        .calendar-day.empty {
            background: #f8f9fa;
            cursor: default;
        }
        
        .calendar-day.empty:hover {
            transform: none;
            box-shadow: none;
        }
        
        .day-number {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 3px;
        }
        
        .day-buy {
            font-size: 9px;
            color: #e74c3c;
            font-weight: 600;
            line-height: 1.2;
        }
        
        .day-sell {
            font-size: 9px;
            color: #3498db;
            font-weight: 600;
            line-height: 1.2;
        }
        
        .calendar-summary {
            display: flex;
            justify-content: space-around;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .summary-item {
            text-align: center;
        }
        
        .summary-label {
            font-size: 13px;
            color: #6c757d;
            margin-bottom: 6px;
        }
        
        .summary-value {
            font-size: 20px;
            font-weight: bold;
        }
        
        .diary-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 150px;
        }
        
        .diary-title {
            font-size: 15px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .diary-textarea {
            flex: 1;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 12px;
            font-size: 14px;
            resize: none;
            font-family: inherit;
            line-height: 1.6;
        }
        
        .diary-save-btn {
            margin-top: 10px;
            background: #27ae60;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }
        
        .diary-save-btn:hover {
            background: #229954;
        }
        
        /* Ïö∞Ï∏° Ìå®ÎÑê */
        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .trade-detail-section {
            flex: 1;
            overflow-y: auto;
        }
        
        .detail-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .trade-detail-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            border-left: 4px solid #3498db;
        }
        
        .trade-detail-item.buy-item {
            border-left-color: #e74c3c;
        }
        
        .trade-detail-item.sell-item {
            border-left-color: #3498db;
        }
        
        .trade-type {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 13px;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .trade-type.buy {
            background: #fee;
            color: #e74c3c;
        }
        
        .trade-type.sell {
            background: #eef;
            color: #3498db;
        }
        
        .trade-detail-stock {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .trade-detail-info {
            margin-top: 10px;
            font-size: 14px;
            color: #6c757d;
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .chart-section {
            flex: 1;
            min-height: 250px;
        }
        
        .loading {
            text-align: center;
            padding: 60px 20px;
            color: #95a5a6;
            font-size: 14px;
            line-height: 1.8;
        }
    </style>
</head>
    
<body>
    <div class="header">
        <h1>üìä Ï£ºÏãù Îß§Îß§ ÏùºÏßÄ</h1>
        <button class="refresh-btn" onclick="loadData()">üîÑ ÏÉàÎ°úÍ≥†Ïπ®</button>
    </div>
    
    <div class="container">
        <!-- Ï¢åÏ∏° Ìå®ÎÑê -->
        <div class="left-panel">
            <div class="panel" style="max-height: 65vh;">
                <div id="accountsContainer"></div>
            </div>
            
            <div class="panel trade-history" style="max-height: 30vh;">
                <div class="trade-history-title">Ï¢ÖÎ™©Î≥Ñ Í±∞Îûò ÎÇ¥Ïó≠</div>
                <div class="trade-history-profit" id="tradeHistoryProfit"></div>
                <div id="tradeHistoryContainer"></div>
            </div>
        </div>
        
        <!-- Ï§ëÏïô Ìå®ÎÑê -->
        <div class="center-panel">
            <div class="panel" style="flex: 1; display: flex; flex-direction: column;">
                <div class="calendar-header">
                    <button class="filter-btn active" id="allFilterBtn" onclick="selectFilter('all')">Ï†ÑÏ≤¥</button>
                    <div class="date-selector">
                        <select id="yearSelect" onchange="updateCalendar()"></select>
                        <select id="monthSelect" onchange="updateCalendar()"></select>
                    </div>
                </div>
                
                <div class="current-stock-name" id="currentStockName">Ï†ÑÏ≤¥</div>
                
                <div class="calendar">
                    <div class="calendar-grid">
                        <div class="calendar-day-header">Ïùº</div>
                        <div class="calendar-day-header">Ïõî</div>
                        <div class="calendar-day-header">Ìôî</div>
                        <div class="calendar-day-header">Ïàò</div>
                        <div class="calendar-day-header">Î™©</div>
                        <div class="calendar-day-header">Í∏à</div>
                        <div class="calendar-day-header">ÌÜ†</div>
                    </div>
                    <div class="calendar-grid" id="calendarGrid"></div>
                </div>
                
                <div class="calendar-summary">
                    <div class="summary-item">
                        <div class="summary-label">Ï¥ù Îß§ÏàòÏï°</div>
                        <div class="summary-value profit-positive" id="totalBuy">0Ïõê</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Ï¥ù Îß§ÎèÑÏï°</div>
                        <div class="summary-value profit-negative" id="totalSell">0Ïõê</div>
                    </div>
                </div>
                
                <div class="diary-section">
                    <div class="diary-title">üìù Îß§Îß§ ÏùºÍ∏∞</div>
                    <textarea class="diary-textarea" id="diaryTextarea" placeholder="ÏÑ†ÌÉùÌïú ÎÇ†ÏßúÏùò ÏùºÍ∏∞Î•º ÏûëÏÑ±ÌïòÏÑ∏Ïöî..."></textarea>
                    <button class="diary-save-btn" onclick="saveDiary()">Ï†ÄÏû•</button>
                </div>
            </div>
        </div>
        
        <!-- Ïö∞Ï∏° Ìå®ÎÑê -->
        <div class="right-panel">
            <div class="panel trade-detail-section">
                <div class="detail-title" id="detailTitle">Í±∞Îûò ÏÉÅÏÑ∏</div>
                <div id="tradeDetailContainer"></div>
            </div>
            
            <div class="panel chart-section">
                <div class="detail-title">Ï∞®Ìä∏</div>
                <div id="chartContainer" class="loading">Ï∞®Ìä∏ Í∏∞Îä•ÏùÄ<br>Ï∂îÌõÑ ÏóÖÎç∞Ïù¥Ìä∏ ÏòàÏ†ïÏûÖÎãàÎã§</div>
            </div>
        </div>
    </div>

    <!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï£ºÏãù Îß§Îß§ ÏùºÏßÄ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
            background: #f5f7fa;
            color: #2c3e50;
            font-size: 14px;
        }
        
        .header {
            background: white;
            padding: 15px 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .header h1 {
            font-size: 24px;
            color: #2c3e50;
        }
        
        .refresh-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }
        
        .refresh-btn:hover {
            background: #2980b9;
        }
        
        .container {
            display: grid;
            grid-template-columns: 40% 20% 40%;
            gap: 20px;
            padding: 0 20px 20px;
            height: calc(100vh - 100px);
        }
        
        .panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            overflow-y: auto;
        }
        
        /* Ï¢åÏ∏° Ìå®ÎÑê */
        .left-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        #accountsContainer {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .account-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
        }
        
        .account-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #495057;
        }
        
        .stock-item {
            background: white;
            border-radius: 8px;
            padding: 14px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .stock-item:hover {
            border-color: #3498db;
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.2);
        }
        
        .stock-item.active {
            border-color: #3498db;
            background: #e3f2fd;
        }
        
        .stock-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .stock-info {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 6px;
            font-size: 15px;
            color: #6c757d;
            margin-bottom: 6px;
        }
        
        .stock-info-label {
            font-size: 12px;
            color: #95a5a6;
            margin-top: 4px;
        }
        
        .profit-positive {
            color: #e74c3c;
            font-weight: 600;
        }
        
        .profit-negative {
            color: #3498db;
            font-weight: 600;
        }
        
        .trade-history {
            flex: 1;
        }
        
        .trade-history-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #495057;
            line-height: 1.4;
        }
        
        .trade-history-profit {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 12px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            text-align: center;
        }
        
        #tradeHistoryContainer {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }
        
        .trade-item {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 10px;
            font-size: 13px;
            line-height: 1.5;
        }
        
        .trade-date {
            color: #6c757d;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        /* Ï§ëÏïô Ìå®ÎÑê */
        .center-panel {
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .filter-btn {
            background: #ecf0f1;
            color: #2c3e50;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.2s;
        }
        
        .filter-btn.active {
            background: #3498db;
            color: white;
        }
        
        .date-selector {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .date-selector select {
            padding: 8px 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .current-stock-name {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .calendar {
            background: white;
            border-radius: 8px;
            margin-bottom: 15px;
            overflow-x: hidden;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }
        
        .calendar-day-header {
            text-align: center;
            padding: 10px 4px;
            font-size: 13px;
            font-weight: bold;
            color: #6c757d;
        }
        
        .calendar-day {
            aspect-ratio: 1.4;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 8px 4px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: flex-start;
            font-size: 11px;
        }
        
        .calendar-day:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .calendar-day.active {
            background: #f0f4f8;
            color: #2c3e50;
            border-color: #3498db;
        }
        
        .calendar-day.empty {
            background: #f8f9fa;
            cursor: default;
        }
        
        .calendar-day.empty:hover {
            transform: none;
            box-shadow: none;
        }
        
        .day-number {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 3px;
        }
        
        .day-buy {
            font-size: 9px;
            color: #e74c3c;
            font-weight: 600;
            line-height: 1.2;
        }
        
        .day-sell {
            font-size: 9px;
            color: #3498db;
            font-weight: 600;
            line-height: 1.2;
        }
        
        .calendar-summary {
            display: flex;
            justify-content: space-around;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .summary-item {
            text-align: center;
        }
        
        .summary-label {
            font-size: 13px;
            color: #6c757d;
            margin-bottom: 6px;
        }
        
        .summary-value {
            font-size: 20px;
            font-weight: bold;
        }
        
        .diary-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 150px;
        }
        
        .diary-title {
            font-size: 15px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .diary-textarea {
            flex: 1;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 12px;
            font-size: 14px;
            resize: none;
            font-family: inherit;
            line-height: 1.6;
        }
        
        .diary-save-btn {
            margin-top: 10px;
            background: #27ae60;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }
        
        .diary-save-btn:hover {
            background: #229954;
        }
        
        /* Ïö∞Ï∏° Ìå®ÎÑê */
        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .trade-detail-section {
            flex: 1;
            overflow-y: auto;
        }
        
        .detail-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .trade-detail-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            border-left: 4px solid #3498db;
        }
        
        .trade-detail-item.buy-item {
            border-left-color: #e74c3c;
        }
        
        .trade-detail-item.sell-item {
            border-left-color: #3498db;
        }
        
        .trade-type {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 13px;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .trade-type.buy {
            background: #fee;
            color: #e74c3c;
        }
        
        .trade-type.sell {
            background: #eef;
            color: #3498db;
        }
        
        .trade-detail-stock {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .trade-detail-info {
            margin-top: 10px;
            font-size: 14px;
            color: #6c757d;
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .chart-section {
            flex: 1;
            min-height: 250px;
        }
        
        .loading {
            text-align: center;
            padding: 60px 20px;
            color: #95a5a6;
            font-size: 14px;
            line-height: 1.8;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üìä Ï£ºÏãù Îß§Îß§ ÏùºÏßÄ</h1>
        <button class="refresh-btn" onclick="loadData()">üîÑ ÏÉàÎ°úÍ≥†Ïπ®</button>
    </div>
    
    <div class="container">
        <!-- Ï¢åÏ∏° Ìå®ÎÑê -->
        <div class="left-panel">
            <div class="panel" style="max-height: 65vh;">
                <div id="accountsContainer"></div>
            </div>
            
            <div class="panel trade-history" style="max-height: 30vh;">
                <div class="trade-history-title">Ï¢ÖÎ™©Î≥Ñ Í±∞Îûò ÎÇ¥Ïó≠</div>
                <div class="trade-history-profit" id="tradeHistoryProfit"></div>
                <div id="tradeHistoryContainer"></div>
            </div>
        </div>
        
        <!-- Ï§ëÏïô Ìå®ÎÑê -->
        <div class="center-panel">
            <div class="panel" style="flex: 1; display: flex; flex-direction: column;">
                <div class="calendar-header">
                    <button class="filter-btn active" id="allFilterBtn" onclick="selectFilter('all')">Ï†ÑÏ≤¥</button>
                    <div class="date-selector">
                        <select id="yearSelect" onchange="updateCalendar()"></select>
                        <select id="monthSelect" onchange="updateCalendar()"></select>
                    </div>
                </div>
                
                <div class="current-stock-name" id="currentStockName">Ï†ÑÏ≤¥</div>
                
                <div class="calendar">
                    <div class="calendar-grid">
                        <div class="calendar-day-header">Ïùº</div>
                        <div class="calendar-day-header">Ïõî</div>
                        <div class="calendar-day-header">Ìôî</div>
                        <div class="calendar-day-header">Ïàò</div>
                        <div class="calendar-day-header">Î™©</div>
                        <div class="calendar-day-header">Í∏à</div>
                        <div class="calendar-day-header">ÌÜ†</div>
                    </div>
                    <div class="calendar-grid" id="calendarGrid"></div>
                </div>
                
                <div class="calendar-summary">
                    <div class="summary-item">
                        <div class="summary-label">Ï¥ù Îß§ÏàòÏï°</div>
                        <div class="summary-value profit-positive" id="totalBuy">0Ïõê</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Ï¥ù Îß§ÎèÑÏï°</div>
                        <div class="summary-value profit-negative" id="totalSell">0Ïõê</div>
                    </div>
                </div>
                
                <div class="diary-section">
                    <div class="diary-title">üìù Îß§Îß§ ÏùºÍ∏∞</div>
                    <textarea class="diary-textarea" id="diaryTextarea" placeholder="ÏÑ†ÌÉùÌïú ÎÇ†ÏßúÏùò ÏùºÍ∏∞Î•º ÏûëÏÑ±ÌïòÏÑ∏Ïöî..."></textarea>
                    <button class="diary-save-btn" onclick="saveDiary()">Ï†ÄÏû•</button>
                </div>
            </div>
        </div>
        
        <!-- Ïö∞Ï∏° Ìå®ÎÑê -->
        <div class="right-panel">
            <div class="panel trade-detail-section">
                <div class="detail-title" id="detailTitle">Í±∞Îûò ÏÉÅÏÑ∏</div>
                <div id="tradeDetailContainer"></div>
            </div>
            
            <div class="panel chart-section">
                <div class="detail-title">Ï∞®Ìä∏</div>
                <div id="chartContainer" class="loading">Ï∞®Ìä∏ Í∏∞Îä•ÏùÄ<br>Ï∂îÌõÑ ÏóÖÎç∞Ïù¥Ìä∏ ÏòàÏ†ïÏûÖÎãàÎã§</div>
            </div>
        </div>
    </div>

    <script>
        // Ï†ÑÏó≠ Î≥ÄÏàò
        let tradeData = [];
        let selectedStock = null;
        let selectedDate = null;
        let currentYear = new Date().getFullYear();
        let currentMonth = new Date().getMonth() + 1;
        
        const SHEET_ID = '1AMJsDNUm0y_tFNC3zW3zbWPqFTovEyAl-cnhPnSokSo';
        const SHEET_URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/export?format=csv&gid=0`;
        
        // Ï¥àÍ∏∞Ìôî
        async function init() {
            initDateSelectors();
            await loadData();
        }
        
        // ÎÇ†Ïßú ÏÑ†ÌÉùÍ∏∞ Ï¥àÍ∏∞Ìôî
        function initDateSelectors() {
            const yearSelect = document.getElementById('yearSelect');
            const monthSelect = document.getElementById('monthSelect');
            
            for (let y = 2020; y <= 2030; y++) {
                const option = document.createElement('option');
                option.value = y;
                option.textContent = y + 'ÎÖÑ';
                if (y === currentYear) option.selected = true;
                yearSelect.appendChild(option);
            }
            
            for (let m = 1; m <= 12; m++) {
                const option = document.createElement('option');
                option.value = m;
                option.textContent = m + 'Ïõî';
                if (m === currentMonth) option.selected = true;
                monthSelect.appendChild(option);
            }
        }
        
        // Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        async function loadData() {
            try {
                console.log('Îç∞Ïù¥ÌÑ∞ Î°úÎî© ÏãúÏûë...');
                const response = await fetch(SHEET_URL);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const csvText = await response.text();
                tradeData = parseCSV(csvText);
                
                if (tradeData.length === 0) {
                    alert('Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.');
                    return;
                }
                
                console.log('Ï¥ù Í±∞Îûò Îç∞Ïù¥ÌÑ∞:', tradeData.length, 'Í∞ú');
                
                // 1. Î®ºÏ†Ä stock_prices.jsonÏóêÏÑú Î°úÎìú (Î∞±ÏóÖÏö©)
                await loadPrevClosePrices();
                
                // 2. Ïã§ÏãúÍ∞Ñ Í∞ÄÍ≤© Ï°∞Ìöå ÏãúÎèÑ
                const successCount = await fetchRealtimePrices();
                
                if (successCount > 0) {
                    console.log('‚úÖ Ïã§ÏãúÍ∞Ñ Í∞ÄÍ≤© Ï†ÅÏö© ÏôÑÎ£å!');
                } else {
                    console.log('‚ö†Ô∏è Ïã§ÏãúÍ∞Ñ Ï°∞Ìöå Ïã§Ìå®, Ï†ÑÏùº Ï¢ÖÍ∞Ä ÏÇ¨Ïö©');
                }
                
                renderAccounts();
                updateCalendar();
                loadDiary();
                
                console.log('Îç∞Ïù¥ÌÑ∞ Î°úÎî© ÏôÑÎ£å!');
            } catch (error) {
                console.error('Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error);
                alert('Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§: ' + error.message);
            }
        }
        
        // CSV ÌååÏã±
        function parseCSV(csvText) {
            const lines = csvText.trim().split('\n');
            const data = [];
            
            for (let i = 1; i < lines.length; i++) {
                const line = lines[i].trim();
                if (!line) continue;
                
                const values = [];
                let current = '';
                let inQuotes = false;
                
                for (let char of line) {
                    if (char === '"') {
                        inQuotes = !inQuotes;
                    } else if (char === ',' && !inQuotes) {
                        values.push(current.trim());
                        current = '';
                    } else {
                        current += char;
                    }
                }
                values.push(current.trim());
                
                if (values.length < 9) continue;
                
                const row = {
                    date: values[0]?.replace(/"/g, '').trim(),
                    account: values[2]?.replace(/"/g, '').trim(),
                    category: values[3]?.replace(/"/g, '').trim(),
                    stockName: values[4]?.replace(/"/g, '').trim(),
                    code: values[5]?.replace(/"/g, '').trim(),
                    type: values[6]?.replace(/"/g, '').trim(),
                    quantity: parseInt(values[7]?.replace(/"/g, '').replace(/,/g, '')) || 0,
                    price: parseInt(values[8]?.replace(/"/g, '').replace(/,/g, '')) || 0,
                    prevClose: 0
                };
                
                // ÎÇ†Ïßú ÌòïÏãù Î≥ÄÌôò
                if (row.date && row.date.includes('.')) {
                    const parts = row.date.split('.');
                    if (parts.length === 3) {
                        const year = parts[0].length === 2 ? '20' + parts[0] : parts[0];
                        const month = parts[1].padStart(2, '0');
                        const day = parts[2].padStart(2, '0');
                        row.date = `${year}-${month}-${day}`;
                    }
                }
                
                if (row.stockName && row.date) {
                    data.push(row);
                }
            }
            
            return data;
        }
        
        // Ï†ÑÏùº Ï¢ÖÍ∞Ä Î°úÎìú
        async function loadPrevClosePrices() {
            try {
                const response = await fetch('stock_prices.json');
                const data = await response.json();
                
                console.log('üìä Í∞ÄÍ≤© Îç∞Ïù¥ÌÑ∞ Î°úÎìú:', data.updated_at);
                
                tradeData.forEach(trade => {
                    if (data.prices && data.prices[trade.code]) {
                        trade.prevClose = data.prices[trade.code];
                    } else {
                        trade.prevClose = trade.price * 0.98;
                    }
                });
                
                console.log('‚úÖ Ï†ÑÏùº Ï¢ÖÍ∞Ä Ï†ÅÏö© ÏôÑÎ£å');
            } catch (error) {
                console.error('‚ùå Í∞ÄÍ≤© Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error);
                tradeData.forEach(trade => {
                    trade.prevClose = trade.price * 0.98;
                });
            }
        }

        const ALPHA_VANTAGE_API_KEY = 'AQVB456YC485DIE3';

        async function fetchRealtimePrices() {
            console.log('üîÑ Ïã§ÏãúÍ∞Ñ Ï£ºÍ∞Ä Ï°∞Ìöå ÏãúÏûë...');
            
            const codes = [...new Set(tradeData.map(t => t.code))];
            let successCount = 0;
            let failCount = 0;
            
            for (const code of codes) {
                try {
                    // Alpha Vantage API Ìò∏Ï∂ú (ÌïúÍµ≠ Ï£ºÏãùÏùÄ .KS ÎòêÎäî .KQ Î∂ôÏûÑ)
                    const exchange = code.startsWith('0') ? 'KQ' : 'KS'; // ÏΩîÏä§Îã•ÏùÄ 0ÏúºÎ°ú ÏãúÏûë
                    const symbol = `${code}.${exchange}`;
                    
                    const url = `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${symbol}&apikey=${ALPHA_VANTAGE_API_KEY}`;
                    const response = await fetch(url);
                    const data = await response.json();
                    
                    if (data['Global Quote'] && data['Global Quote']['05. price']) {
                        const price = parseFloat(data['Global Quote']['05. price']);
                        
                        // tradeData ÏóÖÎç∞Ïù¥Ìä∏
                        tradeData.forEach(trade => {
                            if (trade.code === code) {
                                trade.prevClose = price;
                            }
                        });
                        
                        successCount++;
                        console.log(`‚úÖ ${code}: ${price}Ïõê`);
                    } else {
                        failCount++;
                        console.warn(`‚ö†Ô∏è ${code}: Í∞ÄÍ≤© Ï°∞Ìöå Ïã§Ìå®`);
                    }
                    
                    // API Ï†úÌïú ÌöåÌîºÎ•º ÏúÑÌï¥ ÏïΩÍ∞ÑÏùò ÏßÄÏó∞
                    await new Promise(resolve => setTimeout(resolve, 500));
                    
                } catch (error) {
                    failCount++;
                    console.error(`‚ùå ${code} Ï°∞Ìöå Ïò§Î•ò:`, error);
                }
            }
            
            console.log(`üìä Ïã§ÏãúÍ∞Ñ Ï°∞Ìöå ÏôÑÎ£å: ÏÑ±Í≥µ ${successCount}Í∞ú, Ïã§Ìå® ${failCount}Í∞ú`);
            return successCount;
        }
        
        
        // Í≥ÑÏ¢å ÌòÑÌô© Î†åÎçîÎßÅ
        function renderAccounts() {
            const container = document.getElementById('accountsContainer');
            const accounts = {};
            
            tradeData.forEach(trade => {
                if (!accounts[trade.account]) {
                    accounts[trade.account] = {};
                }
                if (!accounts[trade.account][trade.stockName]) {
                    accounts[trade.account][trade.stockName] = {
                        quantity: 0,
                        totalBuy: 0,
                        buyCount: 0,
                        code: trade.code,
                        prevClose: trade.prevClose
                    };
                }
                
                const stock = accounts[trade.account][trade.stockName];
                
                if (trade.type === 'Îß§Ïàò') {
                    stock.quantity += trade.quantity;
                    stock.totalBuy += trade.price * trade.quantity;
                    stock.buyCount += trade.quantity;
                } else if (trade.type === 'Îß§ÎèÑ') {
                    // Îß§ÎèÑ Ïãú ÌèâÍ∑† Îã®Í∞ÄÎ°ú Ï∞®Í∞ê
                    const currentAvgPrice = stock.totalBuy / stock.buyCount;
                    stock.quantity -= trade.quantity;
                    stock.totalBuy -= currentAvgPrice * trade.quantity;
                    stock.buyCount -= trade.quantity;
                }
            });
            
            let html = '';
            Object.keys(accounts).forEach(accountName => {
                html += `<div class="account-section">`;
                html += `<div class="account-title">${accountName}</div>`;
                
                Object.keys(accounts[accountName]).forEach(stockName => {
                    const stock = accounts[accountName][stockName];
                    if (stock.quantity <= 0) return;
                    
                    const avgPrice = stock.totalBuy / stock.buyCount;
                    const currentValue = stock.prevClose * stock.quantity;
                    const profit = currentValue - (avgPrice * stock.quantity);
                    const profitRate = (profit / (avgPrice * stock.quantity) * 100).toFixed(2);
                    const profitClass = profit >= 0 ? 'profit-positive' : 'profit-negative';
                    
                    html += `
                        <div class="stock-item" onclick="selectStock('${stockName}', '${stock.code}')">
                            <div class="stock-name">
                                ${stockName} 
                                <span class="${profitClass}" style="font-size: 16px;">(${profitRate >= 0 ? '+' : ''}${profitRate}%)</span>
                            </div>
                            
                            <div class="stock-info stock-info-label" style="margin-top: 8px;">
                                <div>Î≥¥Ïú†ÏàòÎüâ</div>
                                <div>ÌèâÍ∑†Îã®Í∞Ä</div>
                                <div>Ï†ÑÏùºÏ¢ÖÍ∞Ä</div>
                            </div>
                            
                            <div class="stock-info" style="margin-bottom: 8px;">
                                <div>${stock.quantity}Ï£º</div>
                                <div>${Math.floor(avgPrice).toLocaleString()}Ïõê</div>
                                <div>${Math.floor(stock.prevClose).toLocaleString()}Ïõê</div>
                            </div>
                            
                            <div class="stock-info stock-info-label">
                                <div>ÏàòÏùµÎ•†</div>
                                <div>ÌèâÍ∞ÄÏÜêÏùµ</div>
                                <div>ÌèâÍ∞ÄÍ∏àÏï°</div>
                            </div>
                            
                            <div class="stock-info">
                                <div class="${profitClass}">${profitRate >= 0 ? '+' : ''}${profitRate}%</div>
                                <div class="${profitClass}">${profit >= 0 ? '+' : ''}${Math.floor(profit).toLocaleString()}Ïõê</div>
                                <div>${Math.floor(currentValue).toLocaleString()}Ïõê</div>
                            </div>
                        </div>
                    `;
                });
                
                html += `</div>`;
            });
            
            container.innerHTML = html;
        }
        
        // Ï¢ÖÎ™© ÏÑ†ÌÉù
        function selectStock(stockName, code) {
            selectedStock = stockName;
            
            document.querySelectorAll('.stock-item').forEach(el => {
                el.classList.remove('active');
            });
            event.target.closest('.stock-item').classList.add('active');
            
            document.getElementById('currentStockName').textContent = stockName;
            document.getElementById('allFilterBtn').classList.remove('active');
            
            renderStockHistory(stockName);
            updateCalendar();
            
            document.getElementById('chartContainer').innerHTML = 
                `<div class="loading">${stockName} Ï∞®Ìä∏<br>Ï∂îÌõÑ ÏóÖÎç∞Ïù¥Ìä∏ ÏòàÏ†ï</div>`;
        }
        
        // Ï†ÑÏ≤¥ ÌïÑÌÑ∞ ÏÑ†ÌÉù
        function selectFilter(filter) {
            if (filter === 'all') {
                selectedStock = null;
                document.getElementById('currentStockName').textContent = 'Ï†ÑÏ≤¥';
                document.getElementById('allFilterBtn').classList.add('active');
                document.querySelectorAll('.stock-item').forEach(el => {
                    el.classList.remove('active');
                });
                document.getElementById('tradeHistoryContainer').innerHTML = '';
                document.getElementById('tradeHistoryProfit').innerHTML = '';
                document.querySelector('.trade-history-title').textContent = 'Ï¢ÖÎ™©Î≥Ñ Í±∞Îûò ÎÇ¥Ïó≠';
                updateCalendar();
                
                document.getElementById('chartContainer').innerHTML = 
                    `<div class="loading">ÏΩîÏä§Ìîº ÏßÄÏàò Ï∞®Ìä∏<br>Ï∂îÌõÑ ÏóÖÎç∞Ïù¥Ìä∏ ÏòàÏ†ï</div>`;
            }
        }
        
        // Ï¢ÖÎ™©Î≥Ñ Í±∞Îûò ÎÇ¥Ïó≠ Î†åÎçîÎßÅ
        function renderStockHistory(stockName) {
            const container = document.getElementById('tradeHistoryContainer');
            const trades = tradeData.filter(t => t.stockName === stockName);
            
            // Îß§Ïàò/Îß§ÎèÑ/Î≥¥Ïú† ÏßëÍ≥Ñ
            let totalBuy = 0, totalSell = 0;
            let totalBuyAmount = 0, totalSellAmount = 0;
            
            trades.forEach(trade => {
                if (trade.type === 'Îß§Ïàò') {
                    totalBuy += trade.quantity;
                    totalBuyAmount += trade.price * trade.quantity;
                } else {
                    totalSell += trade.quantity;
                    totalSellAmount += trade.price * trade.quantity;
                }
            });
            
            const holding = totalBuy - totalSell;
            
            // ÌèâÍ∞ÄÏÜêÏùµ Í≥ÑÏÇ∞
            const avgPrice = totalBuyAmount / totalBuy;
            const firstTrade = trades.find(t => t.prevClose);
            const currentPrice = firstTrade ? firstTrade.prevClose : avgPrice;
            const currentValue = currentPrice * holding;
            const profit = currentValue - (avgPrice * holding);
            const profitClass = profit >= 0 ? 'profit-positive' : 'profit-negative';
            
            // Ï†úÎ™© ÏóÖÎç∞Ïù¥Ìä∏
            document.querySelector('.trade-history-title').textContent = 
                `Ï¢ÖÎ™©Î≥Ñ Í±∞Îûò ÎÇ¥Ïó≠ - ${stockName} (Îß§Ïàò ${totalBuy}Ï£º / Îß§ÎèÑ ${totalSell}Ï£º / Î≥¥Ïú† ${holding}Ï£º)`;
            
            // ÌèâÍ∞ÄÏÜêÏùµ ÌëúÏãú
            document.getElementById('tradeHistoryProfit').innerHTML = 
                `ÌèâÍ∞ÄÏÜêÏùµ: <span class="${profitClass}">${profit >= 0 ? '+' : ''}${Math.floor(profit).toLocaleString()}Ïõê</span>`;
            
            // Í±∞Îûò ÎÇ¥Ïó≠
            let html = '';
            trades.forEach(trade => {
                const totalAmount = trade.price * trade.quantity;
                const typeColor = trade.type === 'Îß§Ïàò' ? '#e74c3c' : '#3498db';
                html += `
                    <div class="trade-item">
                        <div class="trade-date">${trade.date}</div>
                        <div style="color: ${typeColor}; font-weight: 600; margin-bottom: 4px;">
                            ${trade.type} ${trade.quantity}Ï£º
                        </div>
                        <div>Îã®Í∞Ä: ${Math.floor(trade.price).toLocaleString()}Ïõê</div>
                        <div style="font-weight: 600; margin-top: 4px;">Ï¥ùÏï°: ${Math.floor(totalAmount).toLocaleString()}Ïõê</div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        // Îã¨Î†• ÏóÖÎç∞Ïù¥Ìä∏
        function updateCalendar() {
            const year = parseInt(document.getElementById('yearSelect').value);
            const month = parseInt(document.getElementById('monthSelect').value);
            currentYear = year;
            currentMonth = month;
            
            const firstDay = new Date(year, month - 1, 1).getDay();
            const daysInMonth = new Date(year, month, 0).getDate();
            
            const grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';
            
            for (let i = 0; i < firstDay; i++) {
                grid.innerHTML += '<div class="calendar-day empty"></div>';
            }
            
            const dailyTrades = {};
            let totalBuy = 0;
            let totalSell = 0;
            
            tradeData.forEach(trade => {
                if (selectedStock && trade.stockName !== selectedStock) return;
                
                const tradeDate = new Date(trade.date);
                if (tradeDate.getFullYear() !== year || tradeDate.getMonth() + 1 !== month) return;
                
                const day = tradeDate.getDate();
                if (!dailyTrades[day]) {
                    dailyTrades[day] = { buy: 0, sell: 0, buyQty: 0, sellQty: 0 };
                }
                
                const amount = trade.price * trade.quantity;
                if (trade.type === 'Îß§Ïàò') {
                    dailyTrades[day].buy += amount;
                    dailyTrades[day].buyQty += trade.quantity;
                    totalBuy += amount;
                } else {
                    dailyTrades[day].sell += amount;
                    dailyTrades[day].sellQty += trade.quantity;
                    totalSell += amount;
                }
            });
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dateStr = `${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const trades = dailyTrades[day] || { buy: 0, sell: 0, buyQty: 0, sellQty: 0 };
                
                let dayHtml = `
                    <div class="calendar-day" onclick="selectDate('${dateStr}')">
                        <div class="day-number">${day}</div>
                `;
                
                if (trades.buy > 0) {
                    dayHtml += `<div class="day-buy">Îß§Ïàò ${trades.buyQty}Ï£º/${Math.floor(trades.buy/10000)}Îßå</div>`;
                }
                if (trades.sell > 0) {
                    dayHtml += `<div class="day-sell">Îß§ÎèÑ ${trades.sellQty}Ï£º/${Math.floor(trades.sell/10000)}Îßå</div>`;
                }
                
                dayHtml += `</div>`;
                grid.innerHTML += dayHtml;
            }
            
            document.getElementById('totalBuy').textContent = Math.floor(totalBuy/10000) + 'ÎßåÏõê';
            document.getElementById('totalSell').textContent = Math.floor(totalSell/10000) + 'ÎßåÏõê';
        }
        
        // ÎÇ†Ïßú ÏÑ†ÌÉù
        function selectDate(dateStr) {
            selectedDate = dateStr;
            
            document.querySelectorAll('.calendar-day').forEach(el => {
                el.classList.remove('active');
            });
            event.target.closest('.calendar-day').classList.add('active');
            
            renderTradeDetails(dateStr);
            loadDiary();
        }
        
        // Í±∞Îûò ÏÉÅÏÑ∏ Î†åÎçîÎßÅ
        function renderTradeDetails(dateStr) {
            const container = document.getElementById('tradeDetailContainer');
            const trades = tradeData.filter(t => t.date === dateStr);
            
            document.getElementById('detailTitle').textContent = `${dateStr} Í±∞Îûò ÏÉÅÏÑ∏`;
            
            if (trades.length === 0) {
                container.innerHTML = '<div class="loading">Í±∞Îûò ÎÇ¥Ïó≠Ïù¥ ÏóÜÏäµÎãàÎã§.</div>';
                return;
            }
            
            let html = '';
            trades.forEach(trade => {
                const typeClass = trade.type === 'Îß§Ïàò' ? 'buy' : 'sell';
                const itemClass = trade.type === 'Îß§Ïàò' ? 'buy-item' : 'sell-item';
                const amount = trade.price * trade.quantity;
                html += `
                    <div class="trade-detail-item ${itemClass}">
                        <div>
                            <span class="trade-type ${typeClass}">${trade.type}</span>
                            <span class="trade-detail-stock">${trade.stockName}</span>
                        </div>
                        <div class="trade-detail-info">
                            <span>ÏàòÎüâ: <strong>${trade.quantity}Ï£º</strong></span>
                            <span>Îã®Í∞Ä: <strong>${Math.floor(trade.price).toLocaleString()}Ïõê</strong></span>
                            <span>Ï¥ùÏï°: <strong>${Math.floor(amount).toLocaleString()}Ïõê</strong></span>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        // ÏùºÍ∏∞ Î°úÎìú
        async function loadDiary() {
            if (!selectedDate) {
                document.getElementById('diaryTextarea').value = '';
                return;
            }
            
            try {
                const result = await window.storage.get(`diary_${selectedDate}`);
                document.getElementById('diaryTextarea').value = result?.value || '';
            } catch (error) {
                document.getElementById('diaryTextarea').value = '';
            }
        }
        
        // ÏùºÍ∏∞ Ï†ÄÏû•
        async function saveDiary() {
            if (!selectedDate) {
                alert('ÎÇ†ÏßúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            const content = document.getElementById('diaryTextarea').value;
            
            try {
                await window.storage.set(`diary_${selectedDate}`, content);
                alert('Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.');
            } catch (error) {
                console.error('Ï†ÄÏû• Ïã§Ìå®:', error);
                alert('Ï†ÄÏû•Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.');
            }
        }
        
        window.onload = init;
    </script>
</body>
</html>
